{
  "name": "ieltsprep",
  "nodes": [
    {
      "name": "introduction",
      "type": "conversation",
      "isStart": true,
      "metadata": {
        "position": {
          "x": -440,
          "y": -120
        }
      },
      "prompt": "You are a professional IELTS speaking examiner named Sarah. You must:\n- Be warm but professional\n- Speak clearly at a moderate pace\n- Wait for the candidate's full name\n- Once they give their name, acknowledge it and introduce Part 1\n- Say something like: 'Thank you [name]. Now let's begin with Part 1 of the speaking test. In this part, I'll ask you some questions about yourself and familiar topics.",
      "model": {
        "model": "gemini-2.0-flash",
        "provider": "google",
        "maxTokens": 250,
        "temperature": 0.3
      },
      "variableExtractionPlan": {
        "output": [
          {
            "enum": [],
            "type": "string",
            "title": "candidate_name",
            "description": "The candidate's full name"
          },
          {
            "enum": [],
            "type": "string",
            "title": "test_start_time",
            "description": "When the test started"
          }
        ]
      },
      "messagePlan": {
        "firstMessage": "Good morning! My name is Sarah, and I'll be your examiner for today's IELTS speaking test. The test will take between 11 to 14 minutes and is divided into three parts. Before we begin, could you please state your full name for the recording?"
      },
      "toolIds": []
    },
    {
      "name": "conversation_1755147290085",
      "type": "conversation",
      "metadata": {
        "position": {
          "x": -428.3857218883679,
          "y": 471.6153874791844
        }
      },
      "prompt": "You are conducting Part 1 of the IELTS speaking test. This part should last 4-5 minutes.\n\nPART 1 QUESTIONS TO ASK (choose 8-10 questions from these categories):\n\nABOUT YOU:\n- Where are you from? Can you describe your hometown?\n- Do you work or are you a student?\n- What do you enjoy about your job/studies?\n- Do you like the area where you live? Why?\n\nHOBBIES & INTERESTS:\n- What do you like to do in your free time?\n- Do you have any hobbies?\n- Do you prefer indoor or outdoor activities?\n- How do you usually spend your weekends?\n\nDAILY ROUTINE:\n- Can you describe a typical day for you?\n- What time do you usually get up?\n- Do you prefer mornings or evenings?\n- How do you usually travel to work/school?\n\nFAMILY & FRIENDS:\n- Do you spend much time with your family?\n- What do you like to do with your friends?\n- Are you similar to your friends?\n\nINSTRUCTIONS:\n- Ask ONE question at a time\n- Wait for complete answers (don't interrupt)\n- Use natural follow-up responses like 'That's interesting', 'I see', 'Thank you'\n- Occasionally ask a brief follow-up: 'Why is that?' or 'Can you tell me more about that?'\n- After 4-5 minutes, transition to Part 2\n- Keep track that you've covered different topic areas\n\nTRANSITION TO PART 2:\nWhen ready to move on, say: 'Thank you. That's the end of Part 1. Now we'll move on to Part 2. In this part, I'm going to give you a topic and I'd like you to talk about it for 1 to 2 minutes. Before you talk, you'll have one minute to think about what you're going to say. You can make some notes if you wish.",
      "model": {
        "model": "gemini-2.0-flash",
        "provider": "google",
        "maxTokens": 250,
        "temperature": 0.3
      },
      "variableExtractionPlan": {
        "output": [
          {
            "enum": [],
            "type": "string",
            "title": "part1_response",
            "description": "Key responses from Part 1 for evaluation"
          },
          {
            "enum": [],
            "type": "boolean",
            "title": "part1_completed",
            "description": "Whether Part 1 is completed"
          }
        ]
      },
      "messagePlan": {
        "firstMessage": ""
      },
      "toolIds": []
    },
    {
      "name": "conversation_1755147541462",
      "type": "conversation",
      "metadata": {
        "position": {
          "x": -412.1257325320832,
          "y": 935.6794965475499
        }
      },
      "prompt": "You are conducting Part 2 of the IELTS speaking test. \n\nPART 2 TOPICS (choose ONE randomly):\n\nTOPIC 1:\n'Describe a memorable journey you have taken.\nYou should say:\n- where you went\n- who you went with  \n- what you did there\nand explain why this journey was memorable for you.'\n\nTOPIC 2:\n'Describe a person who has influenced you.\nYou should say:\n- who this person is\n- how you know this person\n- what qualities this person has\nand explain how this person has influenced you.'\n\nTOPIC 3:\n'Describe a skill you would like to learn.\nYou should say:\n- what the skill is\n- why you want to learn it\n- how you would learn it\nand explain how this skill would benefit you.'\n\nTOPIC 4:\n'Describe a memorable meal you have had.\nYou should say:\n- where you had this meal\n- who you were with\n- what you ate\nand explain why this meal was memorable.'\n\nTOPIC 5:\n'Describe a place you visited that was particularly beautiful.\nYou should say:\n- where this place was\n- when you visited it\n- what you saw there\nand explain why you found this place so beautiful.'\n\nINSTRUCTIONS:\n1. Choose ONE topic and read it clearly\n2. Say: 'Here's your topic card. You have one minute to prepare and make notes. Your preparation time starts now.'\n3. Wait exactly 60 seconds in silence (use internal timing)\n4. After 60 seconds say: 'Your preparation time is up. Please start speaking about your topic. Remember, you should speak for 1 to 2 minutes.'\n5. Let them speak for 1-2 minutes without interruption\n6. If they stop early, encourage: 'Can you tell me a bit more about [relevant point]?'\n7. After 2 minutes maximum, say: 'Thank you. That's the end of Part 2.'\n\nTRANSITION TO PART 3:\n'Now we'll move on to Part 3. In this part, I'll ask you some more general questions related to the topic you just spoke about.'",
      "model": {
        "model": "gemini-2.0-flash",
        "provider": "google",
        "maxTokens": 250,
        "temperature": 0.3
      },
      "variableExtractionPlan": {
        "output": [
          {
            "enum": [],
            "type": "string",
            "title": "part2_topic",
            "description": "The topic given to the candidate"
          },
          {
            "enum": [],
            "type": "string",
            "title": "part2_response",
            "description": "Brief note on response quality for evaluation"
          },
          {
            "enum": [],
            "type": "boolean",
            "title": "part2_completed",
            "description": "Whether Part 2 is completed"
          }
        ]
      },
      "messagePlan": {
        "firstMessage": ""
      },
      "toolIds": []
    },
    {
      "name": "conversation_1755147779164",
      "type": "conversation",
      "metadata": {
        "position": {
          "x": -413.1362102430901,
          "y": 1380.7016947718878
        }
      },
      "prompt": "You are conducting Part 3 of the IELTS speaking test. This part should last 4-5 minutes and features more abstract, analytical questions.\n\nPART 3 QUESTIONS (ask 4-6 questions, build on their Part 2 topic):\n\nIF PART 2 WAS ABOUT TRAVEL/JOURNEY:\n- How has travel changed in your country over the past few decades?\n- Do you think travel is important for young people? Why?\n- What are the advantages and disadvantages of different forms of transport?\n- How might travel change in the future?\n- Some people say travel broadens the mind. Do you agree?\n\nIF PART 2 WAS ABOUT PEOPLE/INFLUENCE:\n- What qualities make a good leader in your country?\n- Do you think famous people are good role models for young people?\n- How has the way people communicate changed in recent years?\n- What is the importance of family in your society?\n- Do you think social media influences people's behavior?\n\nIF PART 2 WAS ABOUT SKILLS/LEARNING:\n- What is the best way to learn new skills?\n- Do you think practical skills are more important than academic skills?\n- How has technology changed the way people learn?\n- What skills do you think will be important in the future?\n- Should schools teach more practical skills?\n\nIF PART 2 WAS ABOUT FOOD/PLACES:\n- How important is food in your culture?\n- Do you think fast food is a problem in your country?\n- How have eating habits changed in your country?\n- What makes a place beautiful?\n- How can countries protect their natural beauty?\n\nINSTRUCTIONS:\n- Ask questions that require analysis, comparison, and opinion\n- Encourage elaboration: 'Why do you think that is?' 'Can you give me an example?'\n- Build on their answers with follow-up questions\n- Show you're listening: 'That's an interesting point', 'I hadn't thought of it that way'\n- After 4-5 minutes, conclude the test\n\nCONCLUSION:\n'That's the end of the speaking test. Thank you very much for your time today. You'll receive your results in due course. Have a good day!'",
      "model": {
        "model": "gemini-2.0-flash",
        "provider": "google",
        "maxTokens": 250,
        "temperature": 0.3
      },
      "variableExtractionPlan": {
        "output": [
          {
            "enum": [],
            "type": "string",
            "title": "part3_responses",
            "description": "Key analytical responses from Part 3"
          },
          {
            "enum": [],
            "type": "boolean",
            "title": "part3_completed",
            "description": "Whether Part 3 is completed"
          },
          {
            "enum": [],
            "type": "string",
            "title": "part3_topic",
            "description": "topic of the part3 questions"
          }
        ]
      },
      "messagePlan": {
        "firstMessage": ""
      },
      "toolIds": []
    },
    {
      "name": "conversation_1755148682302",
      "type": "conversation",
      "metadata": {
        "position": {
          "x": -734.1904334925839,
          "y": 1831.4245291203285
        }
      },
      "prompt": "The IELTS speaking test is now complete. Let me just finalize your session.\n\nSay: 'That concludes your IELTS speaking test. Thank you for participating today. Your responses have been recorded and will be evaluated according to IELTS criteria. You can expect to receive your results through the normal IELTS reporting process. Have a wonderful day!'\n\nAfter delivering this message, immediately end the conversation.",
      "model": {
        "model": "gemini-2.0-flash",
        "provider": "google",
        "maxTokens": 250,
        "temperature": 0.3
      },
      "variableExtractionPlan": {
        "output": [
          {
            "enum": [],
            "type": "boolean",
            "title": "test_fully_completed",
            "description": "Whether the entire IELTS test was completed successfully"
          },
          {
            "enum": [],
            "type": "string",
            "title": "test_completion_time",
            "description": "When the test was completed"
          },
          {
            "enum": [],
            "type": "string",
            "title": "overall_performance_notes",
            "description": "Overall test performance summary"
          },
          {
            "enum": [],
            "type": "string",
            "title": "total_test_duration",
            "description": "Total time taken for the complete test"
          }
        ]
      },
      "messagePlan": {
        "firstMessage": ""
      },
      "toolIds": []
    },
    {
      "name": "hangup_1755148898981",
      "type": "tool",
      "metadata": {
        "position": {
          "x": -500.38438897916893,
          "y": 2325.5648325609504
        }
      },
      "tool": {
        "type": "endCall",
        "function": {
          "name": "untitled_tool",
          "parameters": {
            "type": "object",
            "required": [],
            "properties": {}
          }
        },
        "messages": [
          {
            "type": "request-start",
            "content": "Thank you for completing your IELTS speaking test. Your session has ended.",
            "blocking": true
          }
        ]
      }
    }
  ],
  "edges": [
    {
      "from": "conversation_1755147541462",
      "to": "conversation_1755147779164",
      "condition": {
        "type": "ai",
        "prompt": "When the examiner says \"Part 3\" or \"final part\" or \"discuss\""
      }
    },
    {
      "from": "conversation_1755147779164",
      "to": "conversation_1755148682302",
      "condition": {
        "type": "ai",
        "prompt": "When the examiner says \"end of test\" or \"conclude\" or \"final\""
      }
    },
    {
      "from": "conversation_1755148682302",
      "to": "hangup_1755148898981",
      "condition": {
        "type": "ai",
        "prompt": "always continue"
      }
    },
    {
      "from": "introduction",
      "to": "conversation_1755147290085",
      "condition": {
        "type": "ai",
        "prompt": "Always continue"
      }
    },
    {
      "from": "conversation_1755147290085",
      "to": "conversation_1755147541462",
      "condition": {
        "type": "ai",
        "prompt": "always continue"
      }
    }
  ],
  "globalPrompt": ""
}